{"ast":null,"code":"'use client';\n\nimport { useState, useRef, useCallback, useEffect } from 'react';\nfunction useFetch(url, {\n  autoInvoke = true,\n  ...options\n} = {}) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const controller = useRef(null);\n  const refetch = useCallback(() => {\n    if (!url) {\n      return;\n    }\n    if (controller.current) {\n      controller.current.abort();\n    }\n    controller.current = new AbortController();\n    setLoading(true);\n    return fetch(url, {\n      signal: controller.current.signal,\n      ...options\n    }).then(res => res.json()).then(res => {\n      setData(res);\n      setLoading(false);\n      return res;\n    }).catch(err => {\n      setLoading(false);\n      if (err.name !== \"AbortError\") {\n        setError(err);\n      }\n      return err;\n    });\n  }, [url]);\n  const abort = useCallback(() => {\n    if (controller.current) {\n      controller.current?.abort(\"\");\n    }\n  }, []);\n  useEffect(() => {\n    if (autoInvoke) {\n      refetch();\n    }\n    return () => {\n      if (controller.current) {\n        controller.current.abort(\"\");\n      }\n    };\n  }, [refetch, autoInvoke]);\n  return {\n    data,\n    loading,\n    error,\n    refetch,\n    abort\n  };\n}\nexport { useFetch };","map":{"version":3,"names":["useFetch","url","autoInvoke","options","data","setData","useState","loading","setLoading","error","setError","controller","useRef","refetch","useCallback","current","abort","AbortController","fetch","signal","then","res","json","catch","err","name","useEffect"],"sources":["C:\\Users\\Soojin Park\\Desktop\\digital-planner\\node_modules\\@mantine\\hooks\\src\\use-fetch\\use-fetch.ts"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\n\nexport interface UseFetchOptions extends RequestInit {\n  autoInvoke?: boolean;\n}\n\nexport function useFetch<T>(url: string, { autoInvoke = true, ...options }: UseFetchOptions = {}) {\n  const [data, setData] = useState<T | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n  const controller = useRef<AbortController | null>(null);\n\n  const refetch = useCallback(() => {\n    if (!url) {\n      return;\n    }\n\n    if (controller.current) {\n      controller.current.abort();\n    }\n\n    controller.current = new AbortController();\n\n    setLoading(true);\n\n    return fetch(url, { signal: controller.current.signal, ...options })\n      .then((res) => res.json())\n      .then((res) => {\n        setData(res);\n        setLoading(false);\n        return res as T;\n      })\n      .catch((err) => {\n        setLoading(false);\n\n        if (err.name !== 'AbortError') {\n          setError(err);\n        }\n\n        return err;\n      });\n  }, [url]);\n\n  const abort = useCallback(() => {\n    if (controller.current) {\n      controller.current?.abort('');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (autoInvoke) {\n      refetch();\n    }\n\n    return () => {\n      if (controller.current) {\n        controller.current.abort('');\n      }\n    };\n  }, [refetch, autoInvoke]);\n\n  return { data, loading, error, refetch, abort };\n}\n"],"mappings":";;;AAMgB,SAAAA,SAAYC,GAAA,EAAa;EAAEC,UAAA,GAAa;EAAM,GAAGC;AAA6B,MAAI;EAChG,MAAM,CAACC,IAAA,EAAMC,OAAO,IAAIC,QAAA,CAAmB,IAAI;EAC/C,MAAM,CAACC,OAAA,EAASC,UAAU,IAAIF,QAAA,CAAS,KAAK;EAC5C,MAAM,CAACG,KAAA,EAAOC,QAAQ,IAAIJ,QAAA,CAAuB,IAAI;EAC/C,MAAAK,UAAA,GAAaC,MAAA,CAA+B,IAAI;EAEhD,MAAAC,OAAA,GAAUC,WAAA,CAAY,MAAM;IAChC,IAAI,CAACb,GAAK;MACR;IAAA;IAGF,IAAIU,UAAA,CAAWI,OAAS;MACtBJ,UAAA,CAAWI,OAAA,CAAQC,KAAM;IAAA;IAGhBL,UAAA,CAAAI,OAAA,GAAU,IAAIE,eAAgB;IAEzCT,UAAA,CAAW,IAAI;IAER,OAAAU,KAAA,CAAMjB,GAAA,EAAK;MAAEkB,MAAA,EAAQR,UAAA,CAAWI,OAAQ,CAAAI,MAAA;MAAQ,GAAGhB;IAAQ,CAAC,EAChEiB,IAAK,CAACC,GAAA,IAAQA,GAAI,CAAAC,IAAA,EAAM,CACxB,CAAAF,IAAA,CAAMC,GAAQ;MACbhB,OAAA,CAAQgB,GAAG;MACXb,UAAA,CAAW,KAAK;MACT,OAAAa,GAAA;IAAA,CACR,EACAE,KAAM,CAACC,GAAQ;MACdhB,UAAA,CAAW,KAAK;MAEZ,IAAAgB,GAAA,CAAIC,IAAA,KAAS,YAAc;QAC7Bf,QAAA,CAASc,GAAG;MAAA;MAGP,OAAAA,GAAA;IAAA,CACR;EAAA,CACL,EAAG,CAACvB,GAAG,CAAC;EAEF,MAAAe,KAAA,GAAQF,WAAA,CAAY,MAAM;IAC9B,IAAIH,UAAA,CAAWI,OAAS;MACXJ,UAAA,CAAAI,OAAA,EAASC,KAAA,CAAM,EAAE;IAAA;EAEhC,GAAG,EAAE;EAELU,SAAA,CAAU,MAAM;IACd,IAAIxB,UAAY;MACNW,OAAA;IAAA;IAGV,OAAO,MAAM;MACX,IAAIF,UAAA,CAAWI,OAAS;QACXJ,UAAA,CAAAI,OAAA,CAAQC,KAAA,CAAM,EAAE;MAAA;IAE/B;EAAA,CACC,GAACH,OAAS,EAAAX,UAAU,CAAC;EAExB,OAAO;IAAEE,IAAA;IAAMG,OAAS;IAAAE,KAAA;IAAOI,OAAA;IAASG;EAAM;AAChD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}