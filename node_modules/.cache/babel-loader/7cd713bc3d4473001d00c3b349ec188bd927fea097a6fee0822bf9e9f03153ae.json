{"ast":null,"code":"'use client';\n\nimport { findTabbableDescendants } from './tabbable.mjs';\nfunction scopeTab(node, event) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const root = node.getRootNode();\n  let leavingFinalTabbable = finalTabbable === root.activeElement || node === root.activeElement;\n  const activeElement = root.activeElement;\n  const activeElementIsRadio = activeElement.tagName === \"INPUT\" && activeElement.getAttribute(\"type\") === \"radio\";\n  if (activeElementIsRadio) {\n    const activeRadioGroup = tabbable.filter(element => element.getAttribute(\"type\") === \"radio\" && element.getAttribute(\"name\") === activeElement.getAttribute(\"name\"));\n    leavingFinalTabbable = activeRadioGroup.includes(finalTabbable);\n  }\n  if (!leavingFinalTabbable) {\n    return;\n  }\n  event.preventDefault();\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n  if (target) {\n    target.focus();\n  }\n}\nexport { scopeTab };","map":{"version":3,"names":["scopeTab","node","event","tabbable","findTabbableDescendants","length","preventDefault","finalTabbable","shiftKey","root","getRootNode","leavingFinalTabbable","activeElement","activeElementIsRadio","tagName","getAttribute","activeRadioGroup","filter","element","includes","target","focus"],"sources":["C:\\Users\\Soojin Park\\Desktop\\digital-planner\\node_modules\\@mantine\\hooks\\src\\use-focus-trap\\scope-tab.ts"],"sourcesContent":["import { findTabbableDescendants } from './tabbable';\n\nexport function scopeTab(node: HTMLElement, event: KeyboardEvent) {\n  const tabbable = findTabbableDescendants(node);\n  if (!tabbable.length) {\n    event.preventDefault();\n    return;\n  }\n  const finalTabbable = tabbable[event.shiftKey ? 0 : tabbable.length - 1];\n  const root = node.getRootNode() as unknown as DocumentOrShadowRoot;\n  let leavingFinalTabbable = finalTabbable === root.activeElement || node === root.activeElement;\n\n  const activeElement = root.activeElement as Element;\n  const activeElementIsRadio =\n    activeElement.tagName === 'INPUT' && activeElement.getAttribute('type') === 'radio';\n  if (activeElementIsRadio) {\n    const activeRadioGroup = tabbable.filter(\n      (element) =>\n        element.getAttribute('type') === 'radio' &&\n        element.getAttribute('name') === activeElement.getAttribute('name')\n    );\n    leavingFinalTabbable = activeRadioGroup.includes(finalTabbable);\n  }\n\n  if (!leavingFinalTabbable) {\n    return;\n  }\n\n  event.preventDefault();\n\n  const target = tabbable[event.shiftKey ? tabbable.length - 1 : 0];\n\n  if (target) {\n    target.focus();\n  }\n}\n"],"mappings":";;;AAEgB,SAAAA,SAASC,IAAA,EAAmBC,KAAsB;EAC1D,MAAAC,QAAA,GAAWC,uBAAA,CAAwBH,IAAI;EACzC,KAACE,QAAA,CAASE,MAAQ;IACpBH,KAAA,CAAMI,cAAe;IACrB;EAAA;EAEF,MAAMC,aAAA,GAAgBJ,QAAS,CAAAD,KAAA,CAAMM,QAAA,GAAW,CAAI,GAAAL,QAAA,CAASE,MAAA,GAAS,CAAC;EACjE,MAAAI,IAAA,GAAOR,IAAA,CAAKS,WAAY;EAC9B,IAAIC,oBAAuB,GAAAJ,aAAA,KAAkBE,IAAK,CAAAG,aAAA,IAAiBX,IAAA,KAASQ,IAAK,CAAAG,aAAA;EAEjF,MAAMA,aAAA,GAAgBH,IAAK,CAAAG,aAAA;EAC3B,MAAMC,oBAAA,GACJD,aAAc,CAAAE,OAAA,KAAY,WAAWF,aAAc,CAAAG,YAAA,CAAa,MAAM,CAAM;EAC9E,IAAIF,oBAAsB;IACxB,MAAMG,gBAAA,GAAmBb,QAAS,CAAAc,MAAA,CAC/BC,OAAA,IACCA,OAAQ,CAAAH,YAAA,CAAa,MAAM,MAAM,OACjC,IAAAG,OAAA,CAAQH,YAAa,OAAM,CAAM,KAAAH,aAAA,CAAcG,YAAA,CAAa,MAAM,CACtE;IACuBJ,oBAAA,GAAAK,gBAAA,CAAiBG,QAAA,CAASZ,aAAa;EAAA;EAGhE,IAAI,CAACI,oBAAsB;IACzB;EAAA;EAGFT,KAAA,CAAMI,cAAe;EAErB,MAAMc,MAAA,GAASjB,QAAS,CAAAD,KAAA,CAAMM,QAAA,GAAWL,QAAS,CAAAE,MAAA,GAAS,IAAI,CAAC;EAEhE,IAAIe,MAAQ;IACVA,MAAA,CAAOC,KAAM;EAAA;AAEjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}