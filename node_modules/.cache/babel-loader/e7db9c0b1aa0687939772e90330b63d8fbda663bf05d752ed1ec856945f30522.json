{"ast":null,"code":"'use client';\n\nimport { useRef, useCallback, useEffect } from 'react';\nimport { useCallbackRef } from '../use-callback-ref/use-callback-ref.mjs';\nfunction useThrottledCallbackWithClearTimeout(callback, wait) {\n  const handleCallback = useCallbackRef(callback);\n  const latestInArgsRef = useRef(null);\n  const latestOutArgsRef = useRef(null);\n  const active = useRef(true);\n  const waitRef = useRef(wait);\n  const timeoutRef = useRef(-1);\n  const clearTimeout = () => window.clearTimeout(timeoutRef.current);\n  const callThrottledCallback = useCallback((...args) => {\n    handleCallback(...args);\n    latestInArgsRef.current = args;\n    latestOutArgsRef.current = args;\n    active.current = false;\n  }, [handleCallback]);\n  const timerCallback = useCallback(() => {\n    if (latestInArgsRef.current && latestInArgsRef.current !== latestOutArgsRef.current) {\n      callThrottledCallback(...latestInArgsRef.current);\n      timeoutRef.current = window.setTimeout(timerCallback, waitRef.current);\n    } else {\n      active.current = true;\n    }\n  }, [callThrottledCallback]);\n  const throttled = useCallback((...args) => {\n    if (active.current) {\n      callThrottledCallback(...args);\n      timeoutRef.current = window.setTimeout(timerCallback, waitRef.current);\n    } else {\n      latestInArgsRef.current = args;\n    }\n  }, [callThrottledCallback, timerCallback]);\n  useEffect(() => {\n    waitRef.current = wait;\n  }, [wait]);\n  return [throttled, clearTimeout];\n}\nfunction useThrottledCallback(callback, wait) {\n  return useThrottledCallbackWithClearTimeout(callback, wait)[0];\n}\nexport { useThrottledCallback, useThrottledCallbackWithClearTimeout };","map":{"version":3,"names":["useThrottledCallbackWithClearTimeout","callback","wait","handleCallback","useCallbackRef","latestInArgsRef","useRef","latestOutArgsRef","active","waitRef","timeoutRef","clearTimeout","window","current","callThrottledCallback","useCallback","args","timerCallback","setTimeout","throttled","useEffect","useThrottledCallback"],"sources":["C:\\Users\\Soojin Park\\Desktop\\digital-planner\\node_modules\\@mantine\\hooks\\src\\use-throttled-callback\\use-throttled-callback.ts"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nimport { useCallbackRef } from '../use-callback-ref/use-callback-ref';\n\nexport function useThrottledCallbackWithClearTimeout<T extends (...args: any[]) => any>(\n  callback: T,\n  wait: number\n) {\n  const handleCallback = useCallbackRef(callback);\n  const latestInArgsRef = useRef<Parameters<T>>(null);\n  const latestOutArgsRef = useRef<Parameters<T>>(null);\n  const active = useRef(true);\n  const waitRef = useRef(wait);\n  const timeoutRef = useRef<number>(-1);\n\n  const clearTimeout = () => window.clearTimeout(timeoutRef.current);\n\n  const callThrottledCallback = useCallback(\n    (...args: Parameters<T>) => {\n      handleCallback(...args);\n      latestInArgsRef.current = args;\n      latestOutArgsRef.current = args;\n      active.current = false;\n    },\n    [handleCallback]\n  );\n\n  const timerCallback = useCallback(() => {\n    if (latestInArgsRef.current && latestInArgsRef.current !== latestOutArgsRef.current) {\n      callThrottledCallback(...latestInArgsRef.current);\n\n      timeoutRef.current = window.setTimeout(timerCallback, waitRef.current);\n    } else {\n      active.current = true;\n    }\n  }, [callThrottledCallback]);\n\n  const throttled = useCallback(\n    (...args: Parameters<T>) => {\n      if (active.current) {\n        callThrottledCallback(...args);\n        timeoutRef.current = window.setTimeout(timerCallback, waitRef.current);\n      } else {\n        latestInArgsRef.current = args;\n      }\n    },\n    [callThrottledCallback, timerCallback]\n  );\n\n  useEffect(() => {\n    waitRef.current = wait;\n  }, [wait]);\n\n  return [throttled, clearTimeout] as const;\n}\n\nexport function useThrottledCallback<T extends (...args: any[]) => any>(callback: T, wait: number) {\n  return useThrottledCallbackWithClearTimeout(callback, wait)[0];\n}\n"],"mappings":";;;;AAGgB,SAAAA,qCACdC,QAAA,EACAC,IACA;EACM,MAAAC,cAAA,GAAiBC,cAAA,CAAeH,QAAQ;EACxC,MAAAI,eAAA,GAAkBC,MAAA,CAAsB,IAAI;EAC5C,MAAAC,gBAAA,GAAmBD,MAAA,CAAsB,IAAI;EAC7C,MAAAE,MAAA,GAASF,MAAA,CAAO,IAAI;EACpB,MAAAG,OAAA,GAAUH,MAAA,CAAOJ,IAAI;EACrB,MAAAQ,UAAA,GAAaJ,MAAA,CAAe,CAAE;EAEpC,MAAMK,YAAe,GAAAA,CAAA,KAAMC,MAAO,CAAAD,YAAA,CAAaD,UAAA,CAAWG,OAAO;EAEjE,MAAMC,qBAAwB,GAAAC,WAAA,CAC5B,IAAIC,IAAwB;IAC1Bb,cAAA,CAAe,GAAGa,IAAI;IACtBX,eAAA,CAAgBQ,OAAU,GAAAG,IAAA;IAC1BT,gBAAA,CAAiBM,OAAU,GAAAG,IAAA;IAC3BR,MAAA,CAAOK,OAAU;EACnB,GACA,CAACV,cAAc,CACjB;EAEM,MAAAc,aAAA,GAAgBF,WAAA,CAAY,MAAM;IACtC,IAAIV,eAAgB,CAAAQ,OAAA,IAAWR,eAAgB,CAAAQ,OAAA,KAAYN,gBAAA,CAAiBM,OAAS;MAC7DC,qBAAA,IAAGT,eAAA,CAAgBQ,OAAO;MAEhDH,UAAA,CAAWG,OAAU,GAAAD,MAAA,CAAOM,UAAW,CAAAD,aAAA,EAAeR,OAAA,CAAQI,OAAO;IAAA,CAChE;MACLL,MAAA,CAAOK,OAAU;IAAA;EACnB,CACF,EAAG,CAACC,qBAAqB,CAAC;EAE1B,MAAMK,SAAY,GAAAJ,WAAA,CAChB,IAAIC,IAAwB;IAC1B,IAAIR,MAAA,CAAOK,OAAS;MAClBC,qBAAA,CAAsB,GAAGE,IAAI;MAC7BN,UAAA,CAAWG,OAAU,GAAAD,MAAA,CAAOM,UAAW,CAAAD,aAAA,EAAeR,OAAA,CAAQI,OAAO;IAAA,CAChE;MACLR,eAAA,CAAgBQ,OAAU,GAAAG,IAAA;IAAA;EAE9B,GACA,CAACF,qBAAA,EAAuBG,aAAa,CACvC;EAEAG,SAAA,CAAU,MAAM;IACdX,OAAA,CAAQI,OAAU,GAAAX,IAAA;EAAA,CACpB,EAAG,CAACA,IAAI,CAAC;EAEF,QAACiB,SAAA,EAAWR,YAAY;AACjC;AAEgB,SAAAU,qBAAwDpB,QAAA,EAAaC,IAAc;EACjG,OAAOF,oCAAqC,CAAAC,QAAA,EAAUC,IAAI,EAAE,CAAC;AAC/D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}