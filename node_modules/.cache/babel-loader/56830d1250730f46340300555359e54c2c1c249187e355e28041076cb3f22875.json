{"ast":null,"code":"'use client';\n\nimport { jsx } from 'react/jsx-runtime';\nimport { useMemo, useEffect } from 'react';\nimport { useClickOutside, useMergedRef } from '@mantine/hooks';\nimport { getSpacing } from '../../core/utils/get-size/get-size.mjs';\nimport { createVarsResolver } from '../../core/styles-api/create-vars-resolver/create-vars-resolver.mjs';\nimport 'clsx';\nimport '../../core/MantineProvider/Mantine.context.mjs';\nimport '../../core/MantineProvider/default-theme.mjs';\nimport '../../core/MantineProvider/MantineProvider.mjs';\nimport '../../core/MantineProvider/MantineThemeProvider/MantineThemeProvider.mjs';\nimport { useProps } from '../../core/MantineProvider/use-props/use-props.mjs';\nimport '../../core/MantineProvider/MantineCssVariables/MantineCssVariables.mjs';\nimport { useStyles } from '../../core/styles-api/use-styles/use-styles.mjs';\nimport { Box } from '../../core/Box/Box.mjs';\nimport { factory } from '../../core/factory/factory.mjs';\nimport '../../core/DirectionProvider/DirectionProvider.mjs';\nimport { TreeNode } from './TreeNode.mjs';\nimport { useTree } from './use-tree.mjs';\nimport classes from './Tree.module.css.mjs';\nfunction getFlatValues(data) {\n  return data.reduce((acc, item) => {\n    acc.push(item.value);\n    if (item.children) {\n      acc.push(...getFlatValues(item.children));\n    }\n    return acc;\n  }, []);\n}\nconst defaultProps = {\n  expandOnClick: true,\n  allowRangeSelection: true,\n  expandOnSpace: true\n};\nconst varsResolver = createVarsResolver((_theme, {\n  levelOffset\n}) => ({\n  root: {\n    \"--level-offset\": getSpacing(levelOffset)\n  }\n}));\nconst Tree = factory((_props, ref) => {\n  const props = useProps(\"Tree\", defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    data,\n    expandOnClick,\n    tree,\n    renderNode,\n    selectOnClick,\n    clearSelectionOnOutsideClick,\n    allowRangeSelection,\n    expandOnSpace,\n    levelOffset,\n    checkOnSpace,\n    ...others\n  } = props;\n  const defaultController = useTree();\n  const controller = tree || defaultController;\n  const getStyles = useStyles({\n    name: \"Tree\",\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver\n  });\n  const clickOutsideRef = useClickOutside(() => clearSelectionOnOutsideClick && controller.clearSelected());\n  const mergedRef = useMergedRef(ref, clickOutsideRef);\n  const flatValues = useMemo(() => getFlatValues(data), [data]);\n  useEffect(() => {\n    controller.initialize(data);\n  }, [data]);\n  const nodes = data.map((node, index) => /* @__PURE__ */jsx(TreeNode, {\n    node,\n    getStyles,\n    rootIndex: index,\n    expandOnClick,\n    selectOnClick,\n    controller,\n    renderNode,\n    flatValues,\n    allowRangeSelection,\n    expandOnSpace,\n    checkOnSpace\n  }, node.value));\n  return /* @__PURE__ */jsx(Box, {\n    component: \"ul\",\n    ref: mergedRef,\n    ...getStyles(\"root\"),\n    ...others,\n    role: \"tree\",\n    \"aria-multiselectable\": controller.multiple,\n    \"data-tree-root\": true,\n    children: nodes\n  });\n});\nTree.displayName = \"@mantine/core/Tree\";\nTree.classes = classes;\nexport { Tree };","map":{"version":3,"names":["getFlatValues","data","reduce","acc","item","push","value","children","defaultProps","expandOnClick","allowRangeSelection","expandOnSpace","varsResolver","createVarsResolver","_theme","levelOffset","root","getSpacing","Tree","factory","_props","ref","props","useProps","classNames","className","style","styles","unstyled","vars","tree","renderNode","selectOnClick","clearSelectionOnOutsideClick","checkOnSpace","others","defaultController","useTree","controller","getStyles","useStyles","name","classes","clickOutsideRef","useClickOutside","clearSelected","mergedRef","useMergedRef","flatValues","useMemo","useEffect","initialize","nodes","map","node","index","jsx","TreeNode","rootIndex","Box","component","role","multiple","displayName"],"sources":["C:\\Users\\Soojin Park\\Desktop\\digital-planner\\node_modules\\@mantine\\core\\src\\components\\Tree\\Tree.tsx"],"sourcesContent":["import { useEffect, useMemo } from 'react';\nimport { useClickOutside, useMergedRef } from '@mantine/hooks';\nimport {\n  Box,\n  BoxProps,\n  createVarsResolver,\n  ElementProps,\n  factory,\n  Factory,\n  getSpacing,\n  MantineSpacing,\n  StylesApiProps,\n  useProps,\n  useStyles,\n} from '../../core';\nimport { TreeNode } from './TreeNode';\nimport { TreeController, useTree } from './use-tree';\nimport classes from './Tree.module.css';\n\nexport interface TreeNodeData {\n  label: React.ReactNode;\n  value: string;\n  nodeProps?: Record<string, any>;\n  children?: TreeNodeData[];\n}\n\nexport interface RenderTreeNodePayload {\n  /** Node level in the tree */\n  level: number;\n\n  /** `true` if the node is expanded, applicable only for nodes with `children` */\n  expanded: boolean;\n\n  /** `true` if the node has non-empty `children` array */\n  hasChildren: boolean;\n\n  /** `true` if the node is selected */\n  selected: boolean;\n\n  /** Node data from the `data` prop of `Tree` */\n  node: TreeNodeData;\n\n  /** Tree controller instance, return value of `useTree` hook */\n  tree: TreeController;\n\n  /** Props to spread into the root node element */\n  elementProps: {\n    className: string;\n    style: React.CSSProperties;\n    onClick: (event: React.MouseEvent) => void;\n    'data-selected': boolean | undefined;\n    'data-value': string;\n    'data-hovered': boolean | undefined;\n  };\n}\n\nexport type RenderNode = (payload: RenderTreeNodePayload) => React.ReactNode;\n\nexport type TreeStylesNames = 'root' | 'node' | 'subtree' | 'label';\nexport type TreeCssVariables = {\n  root: '--level-offset';\n};\n\nexport interface TreeProps extends BoxProps, StylesApiProps<TreeFactory>, ElementProps<'ul'> {\n  /** Data used to render nodes */\n  data: TreeNodeData[];\n\n  /** Horizontal padding of each subtree level, key of `theme.spacing` or any valid CSS value, `'lg'` by default */\n  levelOffset?: MantineSpacing;\n\n  /** Determines whether tree node with children should be expanded on click, `true` by default */\n  expandOnClick?: boolean;\n\n  /** Determines whether tree node with children should be expanded on space key press, `true` by default */\n  expandOnSpace?: boolean;\n\n  /** Determines whether tree node should be checked on space key press, `false` by default */\n  checkOnSpace?: boolean;\n\n  /** Determines whether node should be selected on click, `false` by default */\n  selectOnClick?: boolean;\n\n  /** Use-tree hook instance that can be used to manipulate component state */\n  tree?: TreeController;\n\n  /** A function to render tree node label */\n  renderNode?: RenderNode;\n\n  /** Determines whether selection should be cleared when user clicks outside of the tree, `false` by default */\n  clearSelectionOnOutsideClick?: boolean;\n\n  /** Determines whether tree nodes range can be selected with click when `Shift` key is pressed, `true` by default */\n  allowRangeSelection?: boolean;\n}\n\nfunction getFlatValues(data: TreeNodeData[]): string[] {\n  return data.reduce<string[]>((acc, item) => {\n    acc.push(item.value);\n    if (item.children) {\n      acc.push(...getFlatValues(item.children));\n    }\n    return acc;\n  }, []);\n}\n\nexport type TreeFactory = Factory<{\n  props: TreeProps;\n  ref: HTMLUListElement;\n  stylesNames: TreeStylesNames;\n  vars: TreeCssVariables;\n}>;\n\nconst defaultProps: Partial<TreeProps> = {\n  expandOnClick: true,\n  allowRangeSelection: true,\n  expandOnSpace: true,\n};\n\nconst varsResolver = createVarsResolver<TreeFactory>((_theme, { levelOffset }) => ({\n  root: {\n    '--level-offset': getSpacing(levelOffset),\n  },\n}));\n\nexport const Tree = factory<TreeFactory>((_props, ref) => {\n  const props = useProps('Tree', defaultProps, _props);\n  const {\n    classNames,\n    className,\n    style,\n    styles,\n    unstyled,\n    vars,\n    data,\n    expandOnClick,\n    tree,\n    renderNode,\n    selectOnClick,\n    clearSelectionOnOutsideClick,\n    allowRangeSelection,\n    expandOnSpace,\n    levelOffset,\n    checkOnSpace,\n    ...others\n  } = props;\n\n  const defaultController = useTree();\n  const controller = tree || defaultController;\n\n  const getStyles = useStyles<TreeFactory>({\n    name: 'Tree',\n    classes,\n    props,\n    className,\n    style,\n    classNames,\n    styles,\n    unstyled,\n    vars,\n    varsResolver,\n  });\n\n  const clickOutsideRef = useClickOutside(\n    () => clearSelectionOnOutsideClick && controller.clearSelected()\n  );\n\n  const mergedRef = useMergedRef(ref, clickOutsideRef);\n\n  const flatValues = useMemo(() => getFlatValues(data), [data]);\n\n  useEffect(() => {\n    controller.initialize(data);\n  }, [data]);\n\n  const nodes = data.map((node, index) => (\n    <TreeNode\n      key={node.value}\n      node={node}\n      getStyles={getStyles}\n      rootIndex={index}\n      expandOnClick={expandOnClick}\n      selectOnClick={selectOnClick}\n      controller={controller}\n      renderNode={renderNode}\n      flatValues={flatValues}\n      allowRangeSelection={allowRangeSelection}\n      expandOnSpace={expandOnSpace}\n      checkOnSpace={checkOnSpace}\n    />\n  ));\n\n  return (\n    <Box\n      component=\"ul\"\n      ref={mergedRef}\n      {...getStyles('root')}\n      {...others}\n      role=\"tree\"\n      aria-multiselectable={controller.multiple}\n      data-tree-root\n    >\n      {nodes}\n    </Box>\n  );\n});\n\nTree.displayName = '@mantine/core/Tree';\nTree.classes = classes;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AA+FA,SAASA,cAAcC,IAAgC;EACrD,OAAOA,IAAK,CAAAC,MAAA,CAAiB,CAACC,GAAA,EAAKC,IAAS;IACtCD,GAAA,CAAAE,IAAA,CAAKD,IAAA,CAAKE,KAAK;IACnB,IAAIF,IAAA,CAAKG,QAAU;MACjBJ,GAAA,CAAIE,IAAK,IAAGL,aAAc,CAAAI,IAAA,CAAKG,QAAQ,CAAC;IAAA;IAEnC,OAAAJ,GAAA;EACT,GAAG,EAAE;AACP;AASA,MAAMK,YAAmC;EACvCC,aAAe;EACfC,mBAAqB;EACrBC,aAAe;AACjB;AAEA,MAAMC,YAAA,GAAeC,kBAAgC,EAACC,MAAQ;EAAEC;AAAA,CAAmB;EACjFC,IAAM;IACJ,kBAAkBC,UAAA,CAAWF,WAAW;EAAA;AAE5C,CAAE;AAEK,MAAMG,IAAO,GAAAC,OAAA,CAAqB,CAACC,MAAA,EAAQC,GAAQ;EACxD,MAAMC,KAAQ,GAAAC,QAAA,CAAS,MAAQ,EAAAf,YAAA,EAAcY,MAAM;EAC7C;IACJI,UAAA;IACAC,SAAA;IACAC,KAAA;IACAC,MAAA;IACAC,QAAA;IACAC,IAAA;IACA5B,IAAA;IACAQ,aAAA;IACAqB,IAAA;IACAC,UAAA;IACAC,aAAA;IACAC,4BAAA;IACAvB,mBAAA;IACAC,aAAA;IACAI,WAAA;IACAmB,YAAA;IACA,GAAGC;EAAA,CACD,GAAAb,KAAA;EAEJ,MAAMc,iBAAA,GAAoBC,OAAQ;EAClC,MAAMC,UAAA,GAAaR,IAAQ,IAAAM,iBAAA;EAE3B,MAAMG,SAAA,GAAYC,SAAuB;IACvCC,IAAM;IACNC,OAAA;IACApB,KAAA;IACAG,SAAA;IACAC,KAAA;IACAF,UAAA;IACAG,MAAA;IACAC,QAAA;IACAC,IAAA;IACAjB;EAAA,CACD;EAED,MAAM+B,eAAkB,GAAAC,eAAA,CACtB,MAAMX,4BAAgC,IAAAK,UAAA,CAAWO,aAAc,EACjE;EAEM,MAAAC,SAAA,GAAYC,YAAa,CAAA1B,GAAA,EAAKsB,eAAe;EAE7C,MAAAK,UAAA,GAAaC,OAAA,CAAQ,MAAMjD,aAAA,CAAcC,IAAI,CAAG,GAACA,IAAI,CAAC;EAE5DiD,SAAA,CAAU,MAAM;IACdZ,UAAA,CAAWa,UAAA,CAAWlD,IAAI;EAAA,CAC5B,EAAG,CAACA,IAAI,CAAC;EAET,MAAMmD,KAAQ,GAAAnD,IAAA,CAAKoD,GAAI,EAACC,IAAA,EAAMC,KAC5B,oBAAAC,GAAA,CAACC,QAAA;IAECH,IAAA;IACAf,SAAA;IACAmB,SAAW,EAAAH,KAAA;IACX9C,aAAA;IACAuB,aAAA;IACAM,UAAA;IACAP,UAAA;IACAiB,UAAA;IACAtC,mBAAA;IACAC,aAAA;IACAuB;EAAA,GAXKoB,IAAK,CAAAhD,KAAA,CAab;EAGC,sBAAAkD,GAAA,CAACG,GAAA;IACCC,SAAU;IACVvC,GAAK,EAAAyB,SAAA;IACJ,GAAGP,SAAA,CAAU,MAAM;IACnB,GAAGJ,MAAA;IACJ0B,IAAK;IACL,wBAAsBvB,UAAW,CAAAwB,QAAA;IACjC,gBAAc;IAEbvD,QAAA,EAAA6C;EAAA,CACH;AAEJ,CAAC;AAEDlC,IAAA,CAAK6C,WAAc;AACnB7C,IAAA,CAAKwB,OAAU,GAAAA,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}