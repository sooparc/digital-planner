{"ast":null,"code":"'use client';\n\nimport { useIsomorphicEffect } from '@mantine/hooks';\nfunction dispatchEvent(type, detail) {\n  window.dispatchEvent(new CustomEvent(type, {\n    detail\n  }));\n}\nfunction createUseExternalEvents(prefix) {\n  function _useExternalEvents(events) {\n    const handlers = Object.keys(events).reduce((acc, eventKey) => {\n      acc[`${prefix}:${eventKey}`] = event => events[eventKey](event.detail);\n      return acc;\n    }, {});\n    useIsomorphicEffect(() => {\n      Object.keys(handlers).forEach(eventKey => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n      return () => Object.keys(handlers).forEach(eventKey => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n      });\n    }, [handlers]);\n  }\n  function createEvent(event) {\n    return (...payload) => dispatchEvent(`${prefix}:${String(event)}`, payload[0]);\n  }\n  return [_useExternalEvents, createEvent];\n}\nexport { createUseExternalEvents };","map":{"version":3,"names":["dispatchEvent","type","detail","window","CustomEvent","createUseExternalEvents","prefix","_useExternalEvents","events","handlers","Object","keys","reduce","acc","eventKey","event","useIsomorphicEffect","forEach","removeEventListener","addEventListener","createEvent","payload","String"],"sources":["C:\\Users\\Soojin Park\\Desktop\\digital-planner\\node_modules\\@mantine\\core\\src\\core\\utils\\create-use-external-events\\create-use-external-events.ts"],"sourcesContent":["import { useIsomorphicEffect } from '@mantine/hooks';\n\nfunction dispatchEvent<T>(type: string, detail?: T) {\n  window.dispatchEvent(new CustomEvent(type, { detail }));\n}\n\nexport function createUseExternalEvents<Handlers extends Record<string, (detail: any) => void>>(\n  prefix: string\n) {\n  function _useExternalEvents(events: Handlers) {\n    const handlers = Object.keys(events).reduce<any>((acc, eventKey) => {\n      acc[`${prefix}:${eventKey}`] = (event: CustomEvent) => events[eventKey](event.detail);\n      return acc;\n    }, {});\n\n    useIsomorphicEffect(() => {\n      Object.keys(handlers).forEach((eventKey) => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n\n      return () =>\n        Object.keys(handlers).forEach((eventKey) => {\n          window.removeEventListener(eventKey, handlers[eventKey]);\n        });\n    }, [handlers]);\n  }\n\n  function createEvent<EventKey extends keyof Handlers>(event: EventKey) {\n    type Parameter = Parameters<Handlers[EventKey]>[0];\n\n    return (...payload: Parameter extends undefined ? [undefined?] : [Parameter]) =>\n      dispatchEvent(`${prefix}:${String(event)}`, payload[0]);\n  }\n\n  return [_useExternalEvents, createEvent] as const;\n}\n"],"mappings":";;;AAEA,SAASA,cAAiBC,IAAA,EAAcC,MAAY;EAClDC,MAAA,CAAOH,aAAA,CAAc,IAAII,WAAA,CAAYH,IAAA,EAAM;IAAEC;EAAA,CAAQ,CAAC;AACxD;AAEO,SAASG,wBACdC,MACA;EACA,SAASC,mBAAmBC,MAAkB;IACtC,MAAAC,QAAA,GAAWC,MAAA,CAAOC,IAAK,CAAAH,MAAM,EAAEI,MAAY,EAACC,GAAA,EAAKC,QAAa;MAClED,GAAA,CAAI,GAAGP,MAAM,IAAIQ,QAAQ,EAAE,IAAKC,KAAA,IAAuBP,MAAO,CAAAM,QAAQ,CAAE,CAAAC,KAAA,CAAMb,MAAM;MAC7E,OAAAW,GAAA;IACT,GAAG,EAAE;IAELG,mBAAA,CAAoB,MAAM;MACxBN,MAAA,CAAOC,IAAK,CAAAF,QAAQ,CAAE,CAAAQ,OAAA,CAASH,QAAa;QAC1CX,MAAA,CAAOe,mBAAoB,CAAAJ,QAAA,EAAUL,QAAS,CAAAK,QAAQ,CAAC;QACvDX,MAAA,CAAOgB,gBAAiB,CAAAL,QAAA,EAAUL,QAAS,CAAAK,QAAQ,CAAC;MAAA,CACrD;MAED,OAAO,MACLJ,MAAO,CAAAC,IAAA,CAAKF,QAAQ,CAAE,CAAAQ,OAAA,CAASH,QAAa;QAC1CX,MAAA,CAAOe,mBAAoB,CAAAJ,QAAA,EAAUL,QAAS,CAAAK,QAAQ,CAAC;MAAA,CACxD;IAAA,CACL,EAAG,CAACL,QAAQ,CAAC;EAAA;EAGf,SAASW,YAA6CL,KAAiB;IAGrE,OAAO,CAAI,GAAAM,OAAA,KACTrB,aAAc,IAAGM,MAAM,IAAIgB,MAAO,CAAAP,KAAK,CAAC,IAAIM,OAAQ,EAAC,CAAC;EAAA;EAGnD,QAACd,kBAAA,EAAoBa,WAAW;AACzC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}